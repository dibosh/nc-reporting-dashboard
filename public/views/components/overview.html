<div class="panel panel-default clearfix" ng-controller="OverviewCtrl">
  <div class="panel-heading clearfix">
    <!--<form>-->
      <!--<div class="form-group overview-filter-pane">-->
        <!--<div class="filters">-->
          <!--<div class="row">-->
            <!--<div class="col-md-4">-->
              <!--<h6>Start Publish Date</h6>-->
              <!--<input type="date" class="form-control" ng-model="startPublishDate" ng-required="true" close-text="Close" required="required" style="">-->

            <!--</div>-->
            <!--<div class="col-md-4">-->
              <!--<h6>End Publish Date</h6>-->
              <!--<input type="date" class="form-control" ng-model="endPublishDate" ng-required="true" close-text="Close" required="required" style="">-->
            <!--</div>-->
          <!--</div>-->
        <!--</div>-->
      <!--</div>-->
    <!--</form>-->
    <div ng-class="columnClass">
      <h3>{{totalImageUsage}}</h3>
      <p>Total Image Usage</p>
    </div>
    <div ng-class="columnClass" ng-repeat="(key, value) in rawData">
      <h3>{{value.records.length}}</h3>
      <p>{{value.providerTitle}}</p>
    </div>
  </div>
  <div class="alert alert-warning" role="alert" ng-if="loading.data">
    Data is being loaded. Please be patient. We are sorry for the unnecessary delay.
  </div>
  <table class="table usage-overview-table">
    <thead>
    <tr>
      <th class="table-header-column">Client Name</th>
      <th class="table-header-column" ng-repeat="provider in providerKeys">{{provider}}</th>
      <th class="table-header-column">Total Usage</th>
    </tr>
    </thead>
    <tbody>
    <tr ng-repeat="row in rows" ng-click="selectItem($index)" ng-class="{'item-selected': $index === selectedItemIndex}">
      <td class="table-column">
        {{row.organizationName}}
      </td>
      <td class="table-column" ng-repeat="provider in providerKeys">
        {{row[provider].length}}
      </td>
      <td class="table-column">
        {{row.length}}
      </td>
    </tr>
    </tbody>
  </table>
  <div class="usage-graph-wrapper">
    <p>Detailed overview for <strong>{{selectedItem.organizationName}}</strong></p>
    <canvas id="line" class="chart chart-line" chart-data="chartData"
            chart-labels="chartLabels" chart-options="chartOptions">
    </canvas>
    <pagination
      total-items="selectedItem.length"
      ng-model="currentPage"
      ng-change="pageChanged()"
      direction-links="true"
      items-per-page="pageSize"
      max-size="visiblePages"
      previous-text="‹"
      next-text="›"
      ></pagination>
  </div>
</div>